@model FastService.Models.Seguimiento.SeguimientoModel

<div class="row">
    <div class="col-lg-12">
        <div id="modalNuevaNovedad" class="modal NovedadModal" aria-hidden="true" style="display: none;">

        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div id="OrdenDetail" class="modal DetailModal" aria-hidden="true" style="display: none;">
            <div class="modal-header">
                <button class="close" aria-hidden="true" type="button" data-dismiss="modal"></button>
                <h4 id="OrdenDetailHeader" class="modal-title">Ticket Detalle</h4>
            </div>

            <div id="OrdenModalContent" class="modal-body">
                <div id="OrdenDetailBody" class="col-md-10">

                </div>

                <div id="PanelAccion" class="col-md-2">
                    @RenderPage("PanelAccion.cshtml")
                </div>
            </div>

        </div>
    </div>
</div>

<div id="SeguimientoDiv" class="row">
    <div data-estado="1" id="column-1" class="col-md-2 kanbanCol">

    </div>

    <div data-estado="2" id="column-2" class="col-md-2 kanbanCol">

    </div>

    <div data-estado="3" id="column-3" class="col-md-2 kanbanCol">

    </div>

    <div data-estado="4" id="column-4" class="col-md-2 kanbanCol">

    </div>

    <div data-estado="5" id="column-5" class="col-md-2 kanbanCol">

    </div>

    <div data-estado="6" id="column-6" class="col-md-2 kanbanCol">

    </div>

</div>

<script>
    $(".kanbanCol").each(function () {
        ajaxGetNoCustomError(
            "@Url.Action("KanbanColumn","Seguimiento")/?id=" + $(this).data("estado"),
            function (data) {
                var column = data.substring(0, 8);
                var html = data.substring(8, data.length);
                $("#" + column).html(html);

                $("#" + column + " .li-ver-orden").click(function (e) {
                    ajaxGetNoCustomError(
                        $(this).data("url"),
                        function (data) {
                            $("#OrdenDetailBody").html(data);
                            $("#OrdenDetail").modal();
                        }
                    );
                });
            }
        );
    });

    function OnBeginNovedad() {
        $(".simplemodal-close").trigger("click");
    }

    function DoneNovedad(data) {
        $("#modalNuevaNovedad").hide();
        $("#OrdenDetailBody").html(data);
    }
    
    function OnErrorNovedad() {
        $("#modalError").modal();
    }

</script>

<style>
    .li-ver-orden {
        margin-top: 5px;
        background-color: #F2F3F4;
    }

    .OrdenHeader {
        font-size: large;
        font-style: normal;
    }

    .OrdenListNro {
        font-size: large;
        font-style: normal;
    }

    .OrdenListSummary {
        font-size: medium;
        font-style: normal;
    }

    .OrdenListHints {
        font-size: medium;
        font-style: normal;
    }

    .li-add-orden {
        font-size: large;
        font-style: normal;
    }

    .ListaOrdenes {
        /*max-height: 760px;*/
        /*overflow-y: scroll;*/
    }

    .DetailModal {
        left: 25% !important;
        width: 85% !important;
        z-index: 100000;
    }

    .NovedadModal {
        z-index: 200000;
        margin-top: 50px;
    }

    .pac-container {
        z-index: 100000;
    }
</style>

